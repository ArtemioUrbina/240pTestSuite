name: BUILD-N64-ROM

on:
  push:
  pull_request:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
      with:
        fetch-depth: 0

    - name: Build using libDragon Container
      run: |
        #cd ${{ github.workspace }}/240psuite/N64/
        npm i -g libdragon@latest
        libdragon init
        # copy the adjusted source into the .libdragon folder?
        # cp -f ./libdragonchanges ./libdragon 
        libdragon make ${{ github.workspace }}/240psuite/N64
        # libdragon make install
        # libdragon make tools-install